<!DOCTYPE html>
<html data-color-mode="light" data-dark-theme="dark" data-light-theme="light" lang="zh-CN">
<head>
    <meta content="text/html; charset=utf-8" http-equiv="content-type" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link href='https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/Primer/21.0.7/primer.css' rel='stylesheet' />
    
    <link rel="icon" href="https://github.githubassets.com/favicons/favicon.svg"><script>
        let theme = localStorage.getItem("meek_theme") || "light";
        document.documentElement.setAttribute("data-color-mode", theme);
    </script>
<meta name="description" content="### 上胡家明经胡氏宗祠——五义堂记
     随着移民浪潮，吾祖二十九世仁兴公，辗转迁来上胡家定居至今。">
<meta property="og:title" content="上胡家明经胡氏宗祠——五义堂记">
<meta property="og:description" content="### 上胡家明经胡氏宗祠——五义堂记
     随着移民浪潮，吾祖二十九世仁兴公，辗转迁来上胡家定居至今。">
<meta property="og:type" content="article">
<meta property="og:url" content="https://techquincyhu.github.io/ziguang.github.io/post/shang-hu-jia-ming-jing-hu-shi-zong-ci-%E2%80%94%E2%80%94-wu-yi-tang-ji.html">
<meta property="og:image" content="https://github.githubassets.com/favicons/favicon.svg">
<title>上胡家明经胡氏宗祠——五义堂记</title>



</head>
<style>
body{box-sizing: border-box;min-width: 200px;max-width: 900px;margin: 20px auto;padding: 45px;font-size: 16px;font-family: sans-serif;line-height: 1.25;}
#header{display:flex;padding-bottom:8px;border-bottom: 1px solid var(--borderColor-muted, var(--color-border-muted));margin-bottom: 16px;}
#footer {margin-top:64px; text-align: center;font-size: small;}

</style>

<style>
.postTitle{margin: auto 0;font-size:40px;font-weight:bold;}
.title-right{display:flex;margin:auto 0 0 auto;}
.title-right .circle{padding: 14px 16px;margin-right:8px;}
#postBody{border-bottom: 1px solid var(--color-border-default);padding-bottom:36px;}
#postBody hr{height:2px;}
#cmButton{height:48px;margin-top:48px;}
#comments{margin-top:64px;}
.g-emoji{font-size:24px;}
@media (max-width: 600px) {
    body {padding: 8px;}
    .postTitle{font-size:24px;}
}
.copy-feedback {
    display: none;
    position: absolute;
    top: 10px;
    right: 50px;
    color: var(--color-fg-on-emphasis);
    background-color: var(--color-fg-muted);
    border-radius: 3px;
    padding: 5px 8px;
    font-size: 12px;
}
</style>




<body>
    <div id="header">
<h1 class="postTitle">上胡家明经胡氏宗祠——五义堂记</h1>
<div class="title-right">
    <a href="https://techquincyhu.github.io/ziguang.github.io" id="buttonHome" class="btn btn-invisible circle" title="首页">
        <svg class="octicon" width="16" height="16">
            <path id="pathHome" fill-rule="evenodd"></path>
        </svg>
    </a>
    
    <a href="https://github.com/techquincyhu/ziguang.github.io/issues/13" target="_blank" class="btn btn-invisible circle" title="Issue">
        <svg class="octicon" width="16" height="16">
            <path id="pathIssue" fill-rule="evenodd"></path>
        </svg>
    </a>
    

    <a class="btn btn-invisible circle" onclick="modeSwitch();" title="切换主题">
        <svg class="octicon" width="16" height="16" >
            <path id="themeSwitch" fill-rule="evenodd"></path>
        </svg>
    </a>

</div>
</div>
    <div id="content">
<div class="markdown-body" id="postBody"><h3>上胡家明经胡氏宗祠——五义堂记</h3>
<pre class="notranslate"><code class="notranslate"> 随着移民浪潮，吾祖二十九世仁兴公，辗转迁来上胡家定居至今。他嫡生五子，数代几十个儿孙同居一堂。受“东南邹鲁，礼仪之邦”的熏陶，宗祠褒称“五义堂”。传说当初五位弟兄分家，依依不舍，在“分家饭”上先是哽咽无声，继而嚎啕大哭，分家清单上泪迹斑斑，是故名曰“五义”。从宗祠的始祖胡仁兴（迁来上胡家的第一代，明经第29世）到如今传到第47世，历经19代。现今健在的有40世能字辈到47世传字辈跨越8代。
</code></pre>
<p>五义堂前身是以三间老屋，供奉列祖和尊神。乾隆5年岁次庚申公元1740年，三间老屋改建。嘉庆11年岁次丙寅1806年和同治12年岁次癸酉1873年，多次翻新。1940年由胡学汤（字福生、号商岩）牵头率众重建成如今面目。据老人传说，公元1940年前的祠堂建筑布局、规模与龙川胡氏宗祠一模一样，而且是同一班工匠所建。宗祠开间18.6米，立深47米，面积874平方米（包括前进、丹墀、中堂和后进，其中后进俗称“寝室”）。前进为“五凤楼”，文革后改为戏台至今；丹墀及两廊改为“大天井”；中堂为祭祀、进牌、仪仗、迎宾等大典之用。寝室分为三楼，一楼供奉祖宗牌，二楼为宿舍，三楼放置小九华寺庙和安邦庙、关帝庙、社庙、太子庙及村头、村尾土地庙的备用菩萨和祭具。宗祠的附属建筑有能干祠、厨房。宗祠的下属有长房的九思支词、三房的正朔公祠、五房的定公祠（二房、四房支词失考）、仁兴书院（现改建荆州乡中心小学）和安邦庙（现改建荆州乡敬老院）。<br>
五义堂正中神位，有一列金碧辉煌的光亮牌子，正堂上“派衍千秋，源承考水；堂开一鑑，流溯芳塘”的显目楹联，孩童时问老人，说是从考水和芳塘“揹”来的，细问之，则语焉不详，无以具体说明。<br>
长大之后，若有所悟。<br>
史载，公元875年，黄巢率众反唐。朱温（852-912）于877年投奔黄巢，881年攻占京都长安，882年朱温蓄谋背叛黄巢而投唐，被唐昭宗赐名朱全忠。次年黄巢全军被灭。904年8月朱温杀唐昭宗、何皇后。907年朱温灭唐建梁，是为五代十国肇始。<br>
宗谱述，天佑元年（岁次甲子，公元904年）三月初一，何皇后生幼皇子，凡皇子共11人，皆多出嫱嫔，唯乱中所生幼皇子，无名无号且下落不明。先是：帝与后料势已难逆，谓近侍太卿胡清（行名胡三）：“汝原籍南隅，地僻险而杂，温断莫敢窥，亡人可乐奔焉。”于是三公临危受托抱幼皇子南潜故里（婺源考水），终于留下帝种一根龙脉。又云，为避祸，更因三公无子，育幼皇子为嗣，易李为胡姓，名昌翼（904-999），翼22岁以易经榜中明经科第二名进士，当他踌躇满志正欲赴仕时，三公再也忍无可忍，破墙掏出物证，将大唐败乱的历史，浓缩在其眼前。翼恍然大彻大悟，以至终身不仕，开办明经书院，设馆授徒，耕读传家。其后裔被称为明经胡氏。明经始祖胡昌翼，有28位曾孙，故明经胡氏被分为28派，其中甲派，传到第12代，迁居歙东芳塘。明嘉靖初年，有第29世仁兴公（1509-1555）偕妻王氏（1513-1613）举家迁来荆州上胡家至今。<br>
正中匾额“五义堂”乃杨乃武亲笔，各种性质的匾联条屏不计其数，三雕繁多，尤其“二十四孝”引人深思。寝室供奉的祖宗神位让人肃然起敬，祠规有序，每30年进牌一次，最后一次是建国前夕，由开明人士、绩溪县长胡运中题主。<br>
三间老屋原址之旁的宗祠场地内，与五义堂仅一墙之隔，建有一幢支祠——能干祠。它是历代能人（族长、房长）议事执令之所，其后进储存很多箱柜，据说有很多宗族的财物和书籍；在这里，有名望的族长等人以祖宗的名义，司掌礼仪、调解纠纷、维护村里治安。有据可查的历代族长有胡良金（1844年生）、胡良培（1847年生）、胡良历（生殁失考）、胡学森（1865年生）、胡学铎（1869年生），他们年龄大、辈分高、为人正派，办事公正、德高望重，他们的指令就是族规民约。箱柜中又藏存一个小箱子，一般不得开启，很是神秘，算是“黑匣子”吧。后来，民国时代，以所谓“三民主义”（民主、民生、民权），替代了族长房长的职能。建国初，大量的文物从能干祠中搬出，堆在丹墀中举火烧毁，有人趁“北佬”（南下干部）没注意，冒险从火堆中抢出那“黑匣子”。本公有幸检点过那“黑匣子”，印象中大概有封建仕宦科第、修家庙和续宗谱的领事人、乡善孝义、贞节、耆寿人名，尤其还有一摞宗谱（老人说是原始统宗——现存1884年宗谱脚本——明经第七世诸多贤孙合修）和祠产祠据。令人遗憾的是“黑匣子”于1966年9月25日被“造反派”在上胡家村河边（大干碣出水眼）一炬升天。<br>
位于五义堂两壁两廊两厢的匾额约有十帧。其中长房胡廷献（国学生），陕西汉中府汉阴县主薄；二房武举进士胡之培，授武略骑都尉；三房胡兆鹏武举二等发昌化、于潜、临安武略骑都尉；二房胡廷靖（国学生），山西泽州高户县丞兼河东盐运司；五房胡良顺武举二等任湖协把总兼安吉千总；其余胡松由贡生升宁波府教谕兼知县；胡泾由伍升四川成都府把总。又有“兄弟登科”一匾，字迹不清，有人说是芳塘先祖胡宝瑔、胡宝光兄弟同榜；也有人说是同宗异祠的本县宅坦村的胡宝铎、胡宣铎兄弟中进士；又有人说是迁居安庆的两位同宗兄弟（上述最后一条线索是由1918年生、至今健在的胡能孚提供，因他曾在安庆读书、任职）。宗祠又有“一乡善士”赞誉胡良祥和“乐善不倦”赞胡学汤父子两匾。（见县志）<br>
“黑匣子”记载有宋代6位、元代10位、明代7位先贤倡修宗谱的事迹；乾隆壬午1762年113位，1857年77位，1884年69位先贤倡修宗谱的事迹，记录有1807年、1873年倡修宗祠50人名，又有5个房派各自捐工捐料的清单；记录有浩数、焕文、焕熙、兆鸣等人由庠生或贡生升仕；又有上述的夫人、父母的诰封、诰命、宜人、安人、孺人的知单；记有富孙公林絟等人捐田献产、邦仕抵御外来入侵、铮公孝敬父母、林纪法守修桥补路、承桢等人设立梯云文会和学汤公修建仁兴书院以方便支持子弟入读升学的补助；设立纪念张巡许远为死守睢阳之战的东平会和建立“安邦定国”庙会（今敬老院）的诸多事迹。<br>
五义堂的隐照（位于下堂而正对上堂）的诸多匾额，都是表彰贞节妇孺，共有24匾。长房廷珍配程氏，21岁丧夫守寡终身，授“清洁弥坚”匾；二房邦望配姚氏，20岁守寡授“玉映冰操”匾；全生公配帅氏，19岁守寡；三房广亨配钱氏、四房复生配汪氏，21岁守节；良辰配程氏，三房懋桱配汪氏，五房浩御配许氏，19岁守节，授“木牌坊”（今尚存）；光树（1759-1777）配许氏（1759-1837）授石坊于村边（文革被毁）；焕昌配方氏，林缙配帅氏，林绶配舒氏22岁，汝愚配戴氏20岁，另又有鋂公配陈氏21岁，良志配王氏25岁，良光配汪氏23岁，良功配王氏，承余配王氏，光文配汤氏均守节；庠生忠褒配方氏，授“彤绾扬辉”匾；学庆配方氏19岁守节授“冰霜比節” 匾；忠恕配许氏守节“节孝继风”匾；庠生邦定配鲍氏，良寿配章氏23岁守节。以上24位节妇，其中有些匾额难以分清是指哪位节妇：冰心朗澈，月里仙蟾；妇操坚凝，楼头寡鹄；湘灵鼓瑟， 跡纪衡山；赵女摩笄，芳流晋水；正气分川，岳擎砥柱；錐妇白霜，夜雨凋残；慈竹劲節，猶流寒风；落尽瘿梅，余香尚在。这些三从四德之题，读来令人肃然。<br>
五义堂后进，悬有明朝末年例授的二房富孙公77岁、五房寿孙公75岁 “介耆”各一匾。<br>
清朝计授匾64人。其中：清初2人，长房邦仕78岁，五房铮公81岁，各授“耆瑞”匾。<br>
之后，90岁以上例授“七品寿宦”、80多岁授“八品寿宦”、70多岁授“九品寿宦”。<br>
具体被授匾的有62人（有的一匾多名）：林绩90岁 焕振90岁 焕肇91岁  汝嘉82 汝迪82 汝财80  汝茂83  汝鹤84   汝敏88  世汝81 鸿略85  林佳83  林徽84 林绥87 承楠81  承楫81 林代80 焕水80 汝华85 效信83 国应83  焕功82 焕玢83 焕典88 焕秋84 焕韩84 焕祥84 焕涵81 兆鸣84 良志82 良稳81 良老81 良佬86 爱老88 能静83 承梓85 学啟82 学沼82 良烺80 良田80 汝贞77 汝喜78 世昌77 林保77 焕鸾76  焕燮74 焕仑74 良家79 文永75 忠礼73 忠义73 良桃74 良苪73 学三73 焕宁74 焕谋74 学炳72 学信75 四鹅70 良兖76 良道71 鼎元73<br>
宗祠祠规历代奖惩分明，历史上修缮宗祠和续谱如交不起摊派的人丁费，哪怕卖儿卖女、卖田卖地也得交纳。（在1884年修谱前，村人胡良定就揹着长子到绩城南门外油坊出卖，后油坊老板又将其长子揹回来换了次子，理由是兄弟有五人，老大福气大，应该在胡门续后。事情发生后，胡良定家的人丁费也酌情减免部分）。祠产被侵、子孙违规、伦理失常等，皆由族长执事，叫做“开祠堂门”，进行处罚。例如儿、媳不孝、打爷骂娘、虐待公婆、后母欺压继子女等，均由族长执杖示众。对于乱砍数处祠堂山林木的，必须赔猪众吃。<br>
显而易见，迁来荆州定居的村落中，上胡家古村是后来者。如今却衍变为中心大村，其繁衍之快，堪称为一个奇迹。是天时地利人和造就了特殊的宜居环境而使焉。五义堂、能干祠的诸多三雕，如大门的门罩、撑拱、隔扇、板壁、裙板，处处以荷花、螃蟹为衬，“荷蟹”谐音为“和谐”。和谐云者，天地和谐则利，万物和谐则生，环境和谐则美，人心和谐则善，心灵和谐则静，家庭和谐则兴，宗族和谐则安，国家和谐则强，世界和谐则宁。以五义堂为坐标的古村落，能不兴旺吗？<br>
宗祠五义堂，经历了历史的沧桑与坎坷。建国前，它曾是乡公所驻地，传说有“联军”和“国军”驻扎和过境（按老人的口头描述，前者应该是北洋军阀孙传芳的部队，后者装备精良、人员壮悍，应该是国民党的正规军，如“青年军”之类）。1940年又是绩溪中学荆州分部（由胡钟吾先生主持）。建国后，曾是乡政府、荆州公社驻地，还是荆州农业中学原校址，又是荆州供销社、粮油管理站和国家储备粮仓库驻地。所幸有上述机关和单位的占驻，五义堂才避免了“文革”运动中被毁灭。自从诸多单位搬迁后，于1980年春节开始，五义堂迎来每年正月初一到正月十八热闹时光。本族村民依历史上的传统习俗，五义堂设立了“同年会”（即由每年的40岁子孙推选领头人，逐年轮流传递）。同年会内部人员团结互助，和衷共济。如胡钟吾（1906-2005）在“做40岁”时，给同龄人赠送一套衣裤。近年来，同年会内部都有共同集资赈穷和扶贫的美谈。“同年会”值年管理宗祠，修缮房屋、添置祠产，负责祭祀和卫生安全。必要时，调解宗族内部村民之间的纠纷，化怨为恩。<br>
五义堂，你是宗族精神的所在；<br>
五义堂，你是游子回家的心路。</p></div>
<div style="font-size:small;margin-top:8px;float:right;"></div>

<button class="btn btn-block" type="button" onclick="openComments()" id="cmButton">评论</button>
<div class="comments" id="comments"></div>

</div>
    <div id="footer"><div id="footer1">Copyright © <span id="copyrightYear"></span> <a href="https://techquincyhu.github.io/ziguang.github.io">ziguang的文章集合</a></div>
<div id="footer2">
    <span id="runday"></span><span>Powered by <a href="https://meekdai.com/Gmeek.html" target="_blank">Gmeek</a></span>
</div>

<script>
var now=new Date();
document.getElementById("copyrightYear").innerHTML=now.getFullYear();

if(""!=""){
    var startSite=new Date("");
    var diff=now.getTime()-startSite.getTime();
    var diffDay=Math.floor(diff/(1000*60*60*24));
    document.getElementById("runday").innerHTML="网站运行"+diffDay+"天"+" • ";
}
</script></div>
</body>
<script>
var IconList={'sun': 'M8 10.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5zM8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0V.75A.75.75 0 018 0zm0 13a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 018 13zM2.343 2.343a.75.75 0 011.061 0l1.06 1.061a.75.75 0 01-1.06 1.06l-1.06-1.06a.75.75 0 010-1.06zm9.193 9.193a.75.75 0 011.06 0l1.061 1.06a.75.75 0 01-1.06 1.061l-1.061-1.06a.75.75 0 010-1.061zM16 8a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 0116 8zM3 8a.75.75 0 01-.75.75H.75a.75.75 0 010-1.5h1.5A.75.75 0 013 8zm10.657-5.657a.75.75 0 010 1.061l-1.061 1.06a.75.75 0 11-1.06-1.06l1.06-1.06a.75.75 0 011.06 0zm-9.193 9.193a.75.75 0 010 1.06l-1.06 1.061a.75.75 0 11-1.061-1.06l1.06-1.061a.75.75 0 011.061 0z', 'moon': 'M9.598 1.591a.75.75 0 01.785-.175 7 7 0 11-8.967 8.967.75.75 0 01.961-.96 5.5 5.5 0 007.046-7.046.75.75 0 01.175-.786zm1.616 1.945a7 7 0 01-7.678 7.678 5.5 5.5 0 107.678-7.678z', 'sync': 'M1.705 8.005a.75.75 0 0 1 .834.656 5.5 5.5 0 0 0 9.592 2.97l-1.204-1.204a.25.25 0 0 1 .177-.427h3.646a.25.25 0 0 1 .25.25v3.646a.25.25 0 0 1-.427.177l-1.38-1.38A7.002 7.002 0 0 1 1.05 8.84a.75.75 0 0 1 .656-.834ZM8 2.5a5.487 5.487 0 0 0-4.131 1.869l1.204 1.204A.25.25 0 0 1 4.896 6H1.25A.25.25 0 0 1 1 5.75V2.104a.25.25 0 0 1 .427-.177l1.38 1.38A7.002 7.002 0 0 1 14.95 7.16a.75.75 0 0 1-1.49.178A5.5 5.5 0 0 0 8 2.5Z', 'home': 'M6.906.664a1.749 1.749 0 0 1 2.187 0l5.25 4.2c.415.332.657.835.657 1.367v7.019A1.75 1.75 0 0 1 13.25 15h-3.5a.75.75 0 0 1-.75-.75V9H7v5.25a.75.75 0 0 1-.75.75h-3.5A1.75 1.75 0 0 1 1 13.25V6.23c0-.531.242-1.034.657-1.366l5.25-4.2Zm1.25 1.171a.25.25 0 0 0-.312 0l-5.25 4.2a.25.25 0 0 0-.094.196v7.019c0 .138.112.25.25.25H5.5V8.25a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 .75.75v5.25h2.75a.25.25 0 0 0 .25-.25V6.23a.25.25 0 0 0-.094-.195Z', 'github': 'M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z', 'copy': 'M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z', 'check': 'M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z'};
var utterancesLoad=0;

let themeSettings={
    "dark": ["dark","moon","#00f0ff","dark-blue"],
    "light": ["light","sun","#ff5000","github-light"],
    "auto": ["auto","sync","","preferred-color-scheme"]
};
function changeTheme(mode, icon, color, utheme){
    document.documentElement.setAttribute("data-color-mode",mode);
    document.getElementById("themeSwitch").setAttribute("d",value=IconList[icon]);
    document.getElementById("themeSwitch").parentNode.style.color=color;
    if(utterancesLoad==1){utterancesTheme(utheme);}
}
function modeSwitch(){
    let currentMode=document.documentElement.getAttribute('data-color-mode');
    let newMode = currentMode === "light" ? "dark" : currentMode === "dark" ? "auto" : "light";
    localStorage.setItem("meek_theme", newMode);
    if(themeSettings[newMode]){
        changeTheme(...themeSettings[newMode]);
    }
}
function utterancesTheme(theme){
    const message={type:'set-theme',theme: theme};
    const iframe=document.getElementsByClassName('utterances-frame')[0];
    iframe.contentWindow.postMessage(message,'https://utteranc.es');
}
if(themeSettings[theme]){changeTheme(...themeSettings[theme]);}
console.log("\n %c Gmeek last https://github.com/Meekdai/Gmeek \n","padding:5px 0;background:#02d81d;color:#fff");
</script>

<script>
document.getElementById("pathHome").setAttribute("d",IconList["home"]);
document.getElementById("pathIssue").setAttribute("d",IconList["github"]);



function openComments(){
    cm=document.getElementById("comments");
    cmButton=document.getElementById("cmButton");
    cmButton.innerHTML="loading";
    span=document.createElement("span");
    span.setAttribute("class","AnimatedEllipsis");
    cmButton.appendChild(span);

    script=document.createElement("script");
    script.setAttribute("src","https://utteranc.es/client.js");
    script.setAttribute("repo","techquincyhu/ziguang.github.io");
    script.setAttribute("issue-term","title");
    
    if(localStorage.getItem("meek_theme")=="dark"){script.setAttribute("theme","dark-blue");}
    else if(localStorage.getItem("meek_theme")=="light") {script.setAttribute("theme","github-light");}
    else{script.setAttribute("theme","preferred-color-scheme");}
    
    script.setAttribute("crossorigin","anonymous");
    script.setAttribute("async","");
    cm.appendChild(script);

    int=self.setInterval("iFrameLoading()",200);
}

function iFrameLoading(){
    var utterances=document.getElementsByClassName('utterances');
    if(utterances.length==1){
        if(utterances[0].style.height!=""){
            utterancesLoad=1;
            int=window.clearInterval(int);
            document.getElementById("cmButton").style.display="none";
            console.log("utterances Load OK");
        }
    }
}

document.addEventListener('DOMContentLoaded', () => {
    const createClipboardHTML = (codeContent, additionalClasses = '') => `
        <pre class="notranslate"><code class="notranslate">${codeContent}</code></pre>
        <div class="clipboard-container position-absolute right-0 top-0 ${additionalClasses}">
            <clipboard-copy class="ClipboardButton btn m-2 p-0" role="button" style="display: inherit;">
                <svg height="16" width="16" class="octicon octicon-copy m-2"><path d="${IconList["copy"]}"></path></svg>
                <svg height="16" width="16" class="octicon octicon-check color-fg-success m-2 d-none"><path d="${IconList["check"]}"></path></svg>
            </clipboard-copy>
            <div class="copy-feedback">Copied!</div>
        </div>
    `;

    const handleCodeElements = (selector = '') => {
        document.querySelectorAll(selector).forEach(codeElement => {
            const codeContent = codeElement.innerHTML;
            const newStructure = document.createElement('div');
            newStructure.className = 'snippet-clipboard-content position-relative overflow-auto';
            newStructure.innerHTML = createClipboardHTML(codeContent);

            const parentElement = codeElement.parentElement;
            if (selector.includes('highlight')) {
                parentElement.insertBefore(newStructure, codeElement.nextSibling);
                parentElement.removeChild(codeElement);
            } else {
                parentElement.parentElement.replaceChild(newStructure, parentElement);
            }
        });
    };

    handleCodeElements('pre.notranslate > code.notranslate');
    handleCodeElements('div.highlight > pre.notranslate');

    let currentFeedback = null;
    document.querySelectorAll('clipboard-copy').forEach(copyButton => {
        copyButton.addEventListener('click', () => {
            const codeContent = copyButton.closest('.snippet-clipboard-content').innerText;
            const tempTextArea = document.createElement('textarea');
            tempTextArea.value = codeContent;
            document.body.appendChild(tempTextArea);
            tempTextArea.select();
            document.execCommand('copy');
            document.body.removeChild(tempTextArea);

            const copyIcon = copyButton.querySelector('.octicon-copy');
            const checkIcon = copyButton.querySelector('.octicon-check');
            const copyFeedback = copyButton.nextElementSibling;

            if (currentFeedback && currentFeedback !== copyFeedback) {currentFeedback.style.display = 'none';}
            currentFeedback = copyFeedback;

            copyIcon.classList.add('d-none');
            checkIcon.classList.remove('d-none');
            copyFeedback.style.display = 'block';
            copyButton.style.borderColor = 'var(--color-success-fg)';

            setTimeout(() => {
                copyIcon.classList.remove('d-none');
                checkIcon.classList.add('d-none');
                copyFeedback.style.display = 'none';
                copyButton.style.borderColor = '';
            }, 2000);
        });
    });
});

</script>


</html>
